<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Davilkus Games — Indie Game Studio</title>
  <meta name="description"
    content="Davilkus Games is a small indie studio crafting atmospheric, gameplay-first experiences. Explore our games, meet the team, and get in touch." />

  <link rel="icon" type="image/png" href="/assets/favicon.png" />

  <!-- Canonical (client-side i18n, no hreflang variants) -->
  <link rel="canonical" href="https://davilkusgames.com/" />
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="ru_RU">

  <link rel="alternate" href="https://davilkusgames.com/?lang=en" hreflang="en">
  <link rel="alternate" href="https://davilkusgames.com/?lang=ru" hreflang="ru">
  <link rel="alternate" href="https://davilkusgames.com/" hreflang="x-default">

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Davilkus Games" />
  <meta property="og:site_name" content="Davilkus Games" />
  <meta property="og:description" content="Atmospheric indie games for PC, mobile, and web." />
  <meta property="og:url" content="https://davilkusgames.com/" />
  <meta property="og:image" content="https://davilkusgames.com/assets/logo.webp" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />
  <meta property="og:image:type" content="image/webp" />
  <meta property="og:image:alt" content="Davilkus Games logo" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@DavilkusGames" />
  <meta name="twitter:title" content="Davilkus Games" />
  <meta name="twitter:description" content="Atmospheric indie games for PC, mobile, and web." />
  <meta name="twitter:image" content="https://davilkusgames.com/assets/logo.webp" />

  <meta name="theme-color" content="#0B0F1A" />

  <!-- Preload the first hero image -->
  <link rel="preload" as="image" href="/assets/showcase/scp087.webp" imagesrcset="/assets/showcase/scp087.webp"
    type="image/webp" />

  <!-- Inter font & CDNs -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN (classic) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui', 'Apple Color Emoji'] },
          colors: {
            bg: '#0B0F1A',
            panel: '#0F1524',
            ink: '#E8EAF2',
            brand: '#2563eb',
            brandDark: '#1e40af',
            header: '#070a12',
            line: '#1b2336'
          },
          boxShadow: { soft: '0 6px 30px rgba(0,0,0,0.35)' }
        }
      }
    }
  </script>

  <!-- Swiper.js -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- GSAP + ScrollTrigger -->
  <script defer src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <!-- i18next + Browser Language Detector -->
  <script defer src="https://cdn.jsdelivr.net/npm/i18next@23.11.5/dist/umd/i18next.min.js"></script>
  <script defer
    src="https://cdn.jsdelivr.net/npm/i18next-browser-languagedetector@7.2.0/i18nextBrowserLanguageDetector.min.js"></script>

  <!-- JSON-LD Organization -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Davilkus Games",
    "url":"https://davilkusgames.com",
    "logo":"https://davilkusgames.com/assets/logo.webp",
    "sameAs":[
      "https://www.youtube.com/@davilkusgames",
      "https://x.com/DavilkusGames",
      "https://t.me/davilkus_games_news",
      "https://vk.com/davilkusgames",
      "https://github.com/DavilkusGames",
      "https://discord.gg/y3hE847S"
    ]
  }
  </script>

  <style>
    body { visibility: hidden; }

    ::-webkit-scrollbar {
      width: 10px;
      height: 10px
    }

    ::-webkit-scrollbar-track {
      background: #0b0f1a
    }

    ::-webkit-scrollbar-thumb {
      background: #1b2336;
      border-radius: 10px
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #2a3552
    }

    /* Top-right dots as thin bars */
    .swiper-pagination-bullet {
      width: 44px;
      height: 3px;
      border-radius: 9999px;
      background: #3b4663;
      opacity: 1;
      margin: 0 6px !important;
    }

    .swiper-pagination-bullet-active {
      background: #a9b4d8;
    }

    .hero-timer {
      position: absolute;
      bottom: -10px;
      left: 0;
      height: 2px;
      background: #2563eb;
      width: 0
    }

    .hero-timer.animating {
      animation: fill 4s linear forwards
    }

    @keyframes fill {
      from {
        width: 0
      }

      to {
        width: 100%
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .hero-timer {
        display: none
      }
    }

    .menu-overlay {
      backdrop-filter: blur(4px)
    }

    #about,
    #contact {
      scroll-margin-top: 5rem
    }

    #heroTag {
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
    }

    .hero-prev svg,
    .hero-next svg {
      transition: transform .15s ease;
    }

    .hero-prev:hover svg,
    .hero-next:hover svg {
      transform: scale(1.08);
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.5' numOctaves='2'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='.18'/></svg>");
      mix-blend-mode: soft-light;
      animation: dg-grain 6s steps(6, end) infinite;
      opacity: .55;
      /* overlay strength */
    }

    @keyframes dg-grain {
      to {
        transform: translate(-120px, -120px)
      }
    }

    @media (prefers-reduced-motion:reduce) {
      body::before {
        animation: none
      }
    }

    /* --- Spotlight (stable) --- */
    .hero-spotlight {
      position: absolute;
      inset: -10% -10% 0 -10%;
      z-index: 20;
      /* slides ~0, overlay 40 → we're between */
      background: radial-gradient(240px 190px at var(--mx, 50%) var(--my, 35%), rgba(37, 99, 235, .18), transparent 60%);
      filter: blur(24px);
      transition: opacity .2s ease;
      will-change: transform, background-position;
    }

    @media (hover:none) {
      .hero-spotlight {
        opacity: 0
      }
    }

    /* ===== HARD VHS GLITCH ===== */
    .glitch-hard {
      position: relative;
      display: inline-block;
      filter: contrast(1.1) saturate(1.1);
      will-change: transform, filter;
      animation: glitch-flicker 1.6s steps(1, end) infinite;
    }

    /* Red/Cyan chromatic layers */
    .glitch-hard::before,
    .glitch-hard::after {
      content: attr(data-text);
      position: absolute;
      inset: 0;
      pointer-events: none;
      mix-blend-mode: screen;
      opacity: .42;
      /* crank here */
      clip-path: inset(0 0 0 0);
    }

    .glitch-hard::before {
      color: #ff0033;
      transform: translate(-2px, -1px);
      animation: glitch-r 1.3s steps(2, end) infinite;
    }

    .glitch-hard::after {
      color: #00eaff;
      transform: translate(2px, 1px);
      animation: glitch-c 1.7s steps(2, end) infinite;
    }

    /* Sliced mask on the base to simulate tearing */
    .glitch-hard>.glitch-slice {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      height: 100%;
      color: inherit;
      overflow: visible;
      pointer-events: none;
      text-shadow: 0 0 1px rgba(255, 255, 255, .25);
      animation: glitch-slice 1.2s steps(1, end) infinite;
    }

    /* Keyframes */
    @keyframes glitch-flicker {

      0%,
      3% {
        filter: contrast(1.15) saturate(1.2)
      }

      4% {
        filter: brightness(1.4) contrast(1.3) saturate(1.4)
      }

      5%,
      9% {
        transform: translate(0, 0) skew(0deg)
      }

      10% {
        transform: translate(-2px, 1px) skew(-0.8deg)
      }

      11% {
        transform: translate(2px, -1px) skew(0.6deg)
      }

      12%,
      18% {
        transform: translate(0, 0)
      }

      28% {
        transform: translateY(-1px)
      }

      29% {
        transform: translateY(1px)
      }

      30%,
      100% {
        transform: translate(0, 0)
      }
    }

    @keyframes glitch-r {
      0% {
        clip-path: inset(0 0 0 0);
        transform: translate(-2px, -1px)
      }

      10% {
        clip-path: inset(12% 0 70% 0)
      }

      20% {
        clip-path: inset(62% 0 15% 0);
        transform: translate(-3px, 0)
      }

      30% {
        clip-path: inset(35% 0 40% 0)
      }

      40% {
        clip-path: inset(5% 0 80% 0)
      }

      50% {
        clip-path: inset(70% 0 5% 0);
        transform: translate(-1px, 1px)
      }

      60% {
        clip-path: inset(30% 0 35% 0)
      }

      70% {
        clip-path: inset(45% 0 20% 0)
      }

      80% {
        clip-path: inset(15% 0 60% 0)
      }

      100% {
        clip-path: inset(0 0 0 0);
        transform: translate(-2px, -1px)
      }
    }

    @keyframes glitch-c {
      0% {
        clip-path: inset(0 0 0 0);
        transform: translate(2px, 1px)
      }

      8% {
        clip-path: inset(60% 0 10% 0)
      }

      18% {
        clip-path: inset(25% 0 50% 0);
        transform: translate(3px, 0)
      }

      26% {
        clip-path: inset(10% 0 70% 0)
      }

      38% {
        clip-path: inset(75% 0 5% 0)
      }

      52% {
        clip-path: inset(40% 0 25% 0);
        transform: translate(1px, -1px)
      }

      66% {
        clip-path: inset(20% 0 55% 0)
      }

      82% {
        clip-path: inset(5% 0 80% 0)
      }

      100% {
        clip-path: inset(0 0 0 0);
        transform: translate(2px, 1px)
      }
    }

    @keyframes glitch-slice {
      0% {
        clip-path: inset(0 0 0 0)
      }

      6% {
        clip-path: inset(12% 0 72% 0);
        transform: translate(-2px, -1px)
      }

      12% {
        clip-path: inset(65% 0 15% 0);
        transform: translate(2px, 1px)
      }

      18% {
        clip-path: inset(35% 0 35% 0)
      }

      26% {
        clip-path: inset(5% 0 80% 0)
      }

      34% {
        clip-path: inset(78% 0 4% 0)
      }

      50% {
        clip-path: inset(28% 0 48% 0)
      }

      66% {
        clip-path: inset(45% 0 25% 0)
      }

      82% {
        clip-path: inset(20% 0 55% 0)
      }

      100% {
        clip-path: inset(0 0 0 0);
        transform: none
      }
    }

    /* Motion safety */
    @media (prefers-reduced-motion:reduce) {

      .glitch-hard,
      .glitch-hard::before,
      .glitch-hard::after,
      .glitch-hard>.glitch-slice {
        animation: none;
        transform: none;
        filter: none;
      }
    }
  </style>
</head>

<body class="bg-bg text-ink font-sans antialiased">
  <header class="fixed top-0 inset-x-0 z-50 bg-header/95 backdrop-blur border-b border-line">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="/" class="flex items-center gap-3 group">
        <img src="/assets/logo.webp" alt="Davilkus Games logo" width="64" height="64" class="h-9 w-9 rounded-2xl" />
        <span class="text-lg font-semibold tracking-tight group-hover:text-white" data-i18n="brand">Davilkus
          Games</span>
      </a>

      <div class="hidden md:flex items-center gap-6 text-sm">
        <nav class="flex items-center gap-8">
          <a href="/games/" class="hover:opacity-80 transition" data-i18n="nav.games">Games</a>
          <a href="#about" class="hover:opacity-80 transition" data-i18n="nav.about">About</a>
          <a href="#contact" class="hover:opacity-80 transition" data-i18n="nav.contact">Contact Us</a>
        </nav>
        <!-- Language toggle (longer pill, short text). Both left-1/right-1 are safelisted elsewhere. -->
        <button id="langToggle"
          class="relative inline-flex items-center bg-header/60 border border-line rounded-full px-1 py-1 w-[4.75rem] h-8 select-none focus:outline-none focus:ring-2 focus:ring-brand transition"
          aria-label="Toggle language">
          <span class="flex-1 text-center text-[10px]">EN</span>
          <span class="flex-1 text-center text-[10px]">RU</span>
          <span id="langThumb" class="absolute inset-y-1 left-1 w-1/2 rounded-full bg-brand transition-all"></span>
        </button>
      </div>

      <div class="md:hidden flex items-center gap-2">
        <button id="langToggleMobile"
          class="relative inline-flex items-center bg-header/60 border border-line rounded-full px-1 py-1 w-[4.25rem] h-7 select-none focus:outline-none focus:ring-2 focus:ring-brand transition"
          aria-label="Toggle language">
          <span class="flex-1 text-center text-[9px]">EN</span>
          <span class="flex-1 text-center text-[9px]">RU</span>
          <span id="langThumbMobile"
            class="absolute inset-y-1 left-1 w-1/2 rounded-full bg-brand transition-all"></span>
        </button>
        <button id="menuBtn" class="p-2 rounded-lg hover:bg-panel/70 focus:outline-none focus:ring-2 focus:ring-brand"
          aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
          <img src="/assets/icons/menu.svg" alt="menu" class="w-6 h-6" />
        </button>
      </div>
    </div>

    <div id="mobileMenu" class="hidden md:hidden border-t border-line bg-header/95 menu-overlay" aria-hidden="true">
      <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col gap-2 text-sm">
        <a href="/games/" class="py-3 px-3 rounded-lg hover:bg-panel/70" data-i18n="nav.games">Games</a>
        <a href="#about" class="py-3 px-3 rounded-lg hover:bg-panel/70" data-i18n="nav.about">About</a>
        <a href="#contact" class="py-3 px-3 rounded-lg hover:bg-panel/70" data-i18n="nav.contact">Contact Us</a>
      </div>
    </div>
  </header>

  <main class="pt-16">
    <!-- Major showcase hero redesign (GSAP-controlled, fixed overlay) -->
    <section id="hero" class="relative h-[65vh] min-h-[420px] overflow-hidden bg-black">
      <!-- Slides -->
      <div class="swiper hero-swiper h-full relative z-0">
        <div class="swiper-wrapper">
          <!--
          <div class="swiper-slide relative">
            <img src="/assets/showcase/etb_level94.webp" alt="Exit the Backrooms: Level 94"
              class="w-full h-full object-cover" fetchpriority="high" decoding="async" />
          </div>
        -->
          <div class="swiper-slide relative">
            <img src="/assets/showcase/scp087.webp" alt="SCP-087: Into the Abyss" width="1920" height="1080"
              class="w-full h-full object-cover" fetchpriority="high" decoding="async" />
          </div>
          <div class="swiper-slide relative">
            <img src="/assets/showcase/etb_level2.webp" alt="Exit the Backrooms: Level 2" width="1920" height="1080"
              class="w-full h-full object-cover" loading="lazy" decoding="async" />
          </div>
          <div class="swiper-slide relative">
            <img src="/assets/showcase/etb_level37.webp" alt="Exit the Backrooms: Level 37" width="1920" height="1080"
              class="w-full h-full object-cover" loading="lazy" decoding="async" />
          </div>
          <div class="swiper-slide relative">
            <img src="/assets/showcase/sus_horror.webp" alt="Sus Horror" width="1920" height="1080"
              class="w-full h-full object-cover" loading="lazy" decoding="async" />
          </div>
        </div>
        <div class="swiper-pagination absolute top-4 right-4"></div>
      </div>

      <!-- Soft spotlight layer (below overlay, above slides) -->
      <div id="heroLight" class="hero-spotlight pointer-events-none" aria-hidden="true"></div>

      <!-- Overlay layer aligned to site container -->
      <div class="absolute inset-0 z-40 pointer-events-none">
        <div class="max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex flex-col">
          <!-- Title + tagline (top-left, aligned with logo gutters) -->
          <div class="mt-8 md:mt-10 max-w-3xl">
            <div id="heroLabel"
              class="inline-flex flex-col gap-1 px-3 py-2 rounded-lg bg-header/70 border border-line pointer-events-auto">
              <span id="heroTitle" class="glitch-hard text-2xl md:text-3xl font-bold" data-text="—">
                —
                <span class="glitch-slice" aria-hidden="true"></span>
              </span>

              <span id="heroTag" class="text-sm md:text-base text-ink/70 line-clamp-2">—</span>
            </div>
          </div>

          <!-- Buttons (bottom-right, but within same container width) -->
          <div class="mt-auto mb-8 md:mb-15 flex justify-end gap-3 md:gap-4">
            <a id="btnPlay" href="#"
              class="pointer-events-auto inline-flex items-center justify-center rounded-full px-5 py-3 md:px-6 md:py-3.5 text-sm md:text-base font-semibold bg-brand hover:bg-brandDark focus:outline-none focus:ring-2 focus:ring-brand/60 transition-shadow">
              <span>Play!</span>
            </a>
            <a id="btnMore" href="#"
              class="pointer-events-auto inline-flex items-center justify-center rounded-full px-5 py-3 md:px-6 md:py-3.5 text-sm md:text-base font-semibold bg-header/70 border border-line hover:bg-header focus:outline-none focus:ring-2 focus:ring-brand/40">
              <span>Learn More</span>
            </a>
          </div>

          <!-- Navigation arrows -->
          <button
            class="hero-prev absolute left-6 md:left-10 top-1/2 -translate-y-1/2 z-50 cursor-pointer pointer-events-auto"
            aria-label="Previous slide">
            <svg viewBox="0 0 24 24" class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="white" stroke-width="1.5"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 19L8 12l7-7" />
            </svg>
          </button>

          <button
            class="hero-next absolute right-6 md:right-10 top-1/2 -translate-y-1/2 z-50 cursor-pointer pointer-events-auto"
            aria-label="Next slide">
            <svg viewBox="0 0 24 24" class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="white" stroke-width="1.5"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 5l7 7-7 7" />
            </svg>
          </button>

        </div>
      </div>

      <!-- Progress bar (full-bleed; bump z to stay above slides) -->
      <div class="absolute bottom-0 left-0 w-full h-[3px] bg-white/15 z-40 pointer-events-none">
        <div id="heroProgress" class="h-full w-0 bg-white/90"></div>
      </div>
    </section>

    <section id="about" class="relative py-16 md:py-15">
      <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_top,_rgba(37,99,235,0.12),_transparent_60%)]">
      </div>

      <div class="pt-5"></div>
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-10 items-start">
          <div>
            <h2 class="text-3xl md:text-4xl font-bold mb-8 flex items-center gap-3" data-i18n="about.title">
              About Us
            </h2>
            <p class="text-[15px] md:text-base text-ink/80 leading-relaxed mb-3" data-i18n="about.body1">
              Davilkus Games is a small indie game studio based in Russia. We create games for web, mobile, and
              PC, and publish them on Google Play, itch.io, Yandex Games, and other platforms.
            </p>
            <p class="text-[15px] md:text-base text-ink/80 leading-relaxed mb-3" data-i18n="about.body2">
              While horror is one of our key genres — with titles that aim to immerse players in tense, atmospheric
              worlds — we also explore projects far beyond horror.
            </p>
            <p class="text-[15px] md:text-base text-ink/80 leading-relaxed mb-3" data-i18n="about.body3">
              Our priority is creating compelling gameplay mechanics and rich atmospheres that keep players engaged.
              Every project is optimized for performance and accessibility, no matter the device.
            </p>
            <p class="text-[15px] md:text-base text-ink/80 leading-relaxed" data-i18n="about.body4">
              We value our community and work to keep it active, connected, and involved — through updates, events, and
              direct communication with our players.
            </p>
          </div>

          <div class="bg-panel/60 border border-line rounded-2xl p-6 md:p-8 shadow-soft">
            <h3 class="text-xl font-semibold mb-5" data-i18n="about.team">Team & Partners</h3>
            <div class="grid sm:grid-cols-2 gap-6">
              <!-- Mikhail Maksimov -->
              <div
                class="team-card group flex flex-col bg-header/40 border border-line rounded-xl p-5 md:p-6 hover:shadow-soft transition"
                data-animate>
                <div class="flex items-center gap-4">
                  <img src="/assets/team/davilkus.webp" alt="Mikhail Maksimov" width="56" height="56" loading="lazy"
                    decoding="async" class="w-14 h-14 rounded-full object-cover border border-line" />
                  <div>
                    <div class="text-lg font-semibold leading-tight" data-i18n="team.mikhail">Михаил<br>Максимов</div>
                    <div class="text-xs text-ink/70 mt-1 leading-snug" data-i18n="roles.founder">
                      Со-основатель,<br>креативный директор</div>
                  </div>
                </div>
                <p class="text-sm text-ink/80 my-4" data-i18n="about.davilkus">Пишет геймплей, сеть и шейдеры.</p>
                <div class="mt-auto flex justify-end gap-2 pt-1">
                  <a href="https://vk.com/davilkus"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="VK"><img src="/assets/icons/vk.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="VK" /></a>
                  <a href="https://t.me/davilkus"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Telegram"><img src="/assets/icons/telegram.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="Telegram" /></a>
                </div>
              </div>

              <!-- Evgeny Ryzhenkov -->
              <div
                class="team-card group flex flex-col bg-header/40 border border-line rounded-xl p-5 md:p-6 hover:shadow-soft transition"
                data-animate>
                <div class="flex items-center gap-4">
                  <img src="/assets/team/omega.webp" alt="Evgeny Ryzhenkov" width="56" height="56" loading="lazy"
                    decoding="async" class="w-14 h-14 rounded-full object-cover border border-line" />
                  <div>
                    <div class="text-lg font-semibold leading-tight" data-i18n="team.evgeny">Евгений<br>Рыженков</div>
                    <div class="text-xs text-ink/70 mt-1 leading-snug" data-i18n="roles.codev">Со-основатель,<br>арт
                      директор</div>
                  </div>
                </div>
                <p class="text-sm text-ink/80 my-4" data-i18n="about.omega">UX-дизайн, 3D-модели и скрипты Unity.</p>
                <div class="mt-auto flex justify-end gap-2 pt-1">
                  <a href="https://t.me/omega_gamedev"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Telegram"><img src="/assets/icons/telegram.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="Telegram" /></a>
                  <a href="https://yandex.com/games/developer/88490"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Yandex Games"><img src="/assets/icons/yandex-games.svg" width="20" height="20"
                      loading="lazy" decoding="async" class="w-5 h-5" alt="Yandex Games" /></a>
                </div>
              </div>

              <!-- Burger Kerman -->
              <div
                class="team-card group flex flex-col bg-header/40 border border-line rounded-xl p-5 md:p-6 hover:shadow-soft transition"
                data-animate>
                <div class="flex items-center gap-4">
                  <img src="/assets/team/burger-kerman.webp" alt="BurgerKerman" width="56" height="56" loading="lazy"
                    decoding="async" class="w-14 h-14 rounded-full object-cover border border-line" />
                  <div>
                    <div class="text-lg font-semibold leading-tight" data-i18n="team.burger">Burger<br>Kerman</div>
                    <div class="text-xs text-ink/70 mt-1 leading-snug" data-i18n="roles.partner">
                      Композитор,<br>звукорежиссер
                    </div>
                  </div>
                </div>
                <p class="text-sm text-ink/80 my-4" data-i18n="about.burger">Пишет оригинальные саундтреки к нашим
                  играм.</p>
                <div class="mt-auto flex justify-end gap-2 pt-1">
                  <a href="https://open.spotify.com/artist/71yAyS7L72UpNn1VlymHQU"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Spotify"><img src="/assets/icons/spotify.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="Spotify" /></a>
                  <a href="https://music.yandex.ru/artist/19603802"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Yandex Music"><img src="/assets/icons/yandex-music.svg" width="20" height="20"
                      loading="lazy" decoding="async" class="w-5 h-5" alt="Yandex Music" /></a>
                  <a href="https://www.youtube.com/@BurgerKerman"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="YouTube"><img src="/assets/icons/youtube.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="YouTube" /></a>
                </div>
              </div>

              <!-- Haalo -->
              <div
                class="team-card group flex flex-col bg-header/40 border border-line rounded-xl p-5 md:p-6 hover:shadow-soft transition"
                data-animate>
                <div class="flex items-center gap-4">
                  <img src="/assets/team/haalo.webp" alt="Haalo" width="56" height="56" loading="lazy" decoding="async"
                    class="w-14 h-14 rounded-full object-cover border border-line" />
                  <div>
                    <div class="text-lg font-semibold leading-tight" data-i18n="team.haalo">Николай<br>Селезнёв</div>
                    <div class="text-xs text-ink/70 mt-1 leading-snug" data-i18n="roles.cm">Комьюнити-<br>менеджер</div>
                  </div>
                </div>
                <p class="text-sm text-ink/80 my-4" data-i18n="about.haalo">Держит сообщество в курсе, проводит ивенты.
                </p>
                <div class="mt-auto flex justify-end gap-2 pt-1">
                  <a href="https://vk.com/nseleznev2020"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="VK"><img src="/assets/icons/vk.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="VK" /></a>
                  <a href="https://t.me/paylife2680"
                    class="w-9 h-9 grid place-items-center rounded-lg bg-header/60 hover:bg-header border border-line transition-transform"
                    aria-label="Telegram"><img src="/assets/icons/telegram.svg" width="20" height="20" loading="lazy"
                      decoding="async" class="w-5 h-5" alt="Telegram" /></a>
                </div>
              </div>
            </div>
          </div>
        </div>
    </section>

    <div class="border-t border-line"></div>

    <!-- Contact section-->
    <div class="relative h-px w-full bg-transparent overflow-visible">
      <span
        class="absolute left-1/2 -translate-x-1/2 -top-[2px] h-[3px] w-48 rounded-full
    [background:conic-gradient(from_180deg_at_50%_50%,rgba(37,99,235,0),rgba(37,99,235,.85),rgba(37,99,235,0))] blur-[2px]"></span>
    </div>

    <section id="contact" class="py-16 md:py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl font-bold mb-8" data-i18n="contact.title">Contact Us</h2>
        <div class="grid md:grid-cols-2 gap-10 items-start">
          <div class="bg-panel/60 border border-line rounded-2xl p-6 shadow-soft" data-animate>
            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
              <img src="/assets/icons/email.svg" alt="" class="w-5 h-5" />
              <span data-i18n="contact.emailTitle">Email</span>
            </h3>
            <ul class="space-y-3 text-sm">
              <li class="flex items-start justify-between gap-4">
                <span class="text-ink/70" data-i18n="contact.general">General</span>
                <a href="mailto:contact@davilkusgames.com"
                  class="font-semibold hover:underline">contact@davilkusgames.com</a>
              </li>
              <li class="flex items-start justify-between gap-4">
                <span class="text-ink/70" data-i18n="contact.support">In‑game Support</span>
                <a href="mailto:support@davilkusgames.com"
                  class="font-semibold hover:underline">support@davilkusgames.com</a>
              </li>
              <li class="flex items-start justify-between gap-4">
                <span class="text-ink/70" data-i18n="contact.direct">Direct</span>
                <a href="mailto:davilkus@davilkusgames.com"
                  class="font-semibold hover:underline">davilkus@davilkusgames.com</a>
              </li>
            </ul>
          </div>
          <div class="bg-panel/60 border border-line rounded-2xl p-6 shadow-soft" data-animate>
            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
              <img src="/assets/icons/community.svg" alt="" class="w-5 h-5" />
              <span data-i18n="contact.socialTitle">Community</span>
            </h3>
            <div class="flex flex-wrap gap-3">
              <a href="https://discord.gg/y3hE847S"
                class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-header/60 hover:bg-header border border-line transition">
                <img src="/assets/icons/discord.svg" width="20" height="20" loading="lazy" decoding="async"
                  class="w-5 h-5" alt="Discord" />
                <span>Discord</span>
              </a>
              <a href="https://t.me/davilkus_games_news"
                class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-header/60 hover:bg-header border border-line transition">
                <img src="/assets/icons/telegram.svg" width="20" height="20" loading="lazy" decoding="async"
                  class="w-5 h-5" alt="Telegram" />
                <span>Telegram</span>
              </a>
              <a href="https://www.youtube.com/@davilkusgames"
                class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-header/60 hover:bg-header border border-line transition">
                <img src="/assets/icons/youtube.svg" width="20" height="20" loading="lazy" decoding="async"
                  class="w-5 h-5" alt="YouTube" />
                <span>YouTube</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-header border-t border-line">
    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6">
      <div>
        <div class="text-base md:text-lg">© 2025 Davilkus Games</div>
        <div class="mt-2 flex items-center gap-4 text-xs">
          <a href="/privacy-policy/" class="opacity-60 hover:opacity-80 transition">Privacy Policy</a>
          <a href="/cookie-policy/" class="opacity-60 hover:opacity-80 transition">Cookie Policy</a>
        </div>
      </div>
      <div class="flex items-center gap-5">
        <a href="https://discord.gg/y3hE847S" class="opacity-80 hover:opacity-100" aria-label="Discord"><img
            src="/assets/icons/discord.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="Discord" /></a>
        <a href="https://t.me/davilkus_games_news" class="opacity-80 hover:opacity-100" aria-label="Telegram"><img
            src="/assets/icons/telegram.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="Telegram" /></a>
        <a href="https://www.youtube.com/@davilkusgames" class="opacity-80 hover:opacity-100" aria-label="YouTube"><img
            src="/assets/icons/youtube.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="YouTube" /></a>
        <a href="https://x.com/DavilkusGames" class="opacity-80 hover:opacity-100" aria-label="X"><img
            src="/assets/icons/x.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="X" /></a>
        <a href="https://github.com/DavilkusGames" class="opacity-80 hover:opacity-100" aria-label="GitHub"><img
            src="/assets/icons/github.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="GitHub" /></a>
        <a href="https://vk.com/davilkusgames" class="opacity-80 hover:opacity-100" aria-label="VK"><img
            src="/assets/icons/vk.svg" width="32" height="32" loading="lazy" decoding="async" class="w-8 h-8"
            alt="VK" /></a>
      </div>
    </div>
  </footer>

  <!-- Safelist Tailwind utilities toggled by JS -->
  <div class="hidden left-1 right-1"></div>

  <div id="cookieBar" class="fixed left-4 right-4 md:left-8 md:right-auto bottom-4 md:bottom-6 z-[60] hidden">
    <div class="w-full md:w-auto max-w-2xl bg-header border border-line rounded-xl shadow-soft px-4 py-3">
      <div class="flex items-start gap-3">
        <img src="/assets/icons/cookie.svg" alt="cookie" width="28" height="28" class="w-8 h-8 mt-0.5" />
        <div class="flex-1">
          <div class="font-semibold text-sm md:text-base mb-0.5" data-i18n="cookie.title">Cookie time!</div>
          <p class="text-xs md:text-sm text-ink/80" data-i18n="cookie.desc">We use cookies to ensure you get the best
            experience on our website. By using our website you agree to our use of cookies.</p>
        </div>
        <div class="flex items-center gap-2 self-center">
          <button id="cookieDecline"
            class="text-sm px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition"
            data-i18n="cookie.decline">Decline</button>
          <button id="cookieAccept"
            class="text-sm px-3 py-1.5 rounded-lg bg-brand hover:bg-brandDark text-white font-medium transition"
            data-i18n="cookie.accept">Accept</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const hasGSAP = () => !!(window.gsap && window.ScrollTrigger);
    const rmm = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Mobile menu with cached focusables (perf)
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    let menuOpen = false; let outsideHandler; let trapHandler; let first; let last;
    const focusables = 'a,button,[tabindex]:not([tabindex="-1"])';

    function openMenu() {
      menuOpen = true;
      if (hasGSAP()) gsap.killTweensOf(mobileMenu);
      mobileMenu.classList.remove('hidden');
      mobileMenu.setAttribute('aria-hidden', 'false');
      menuBtn.setAttribute('aria-expanded', 'true');
      if (hasGSAP()) gsap.fromTo(mobileMenu, { height: 0, opacity: 0 }, { height: 'auto', opacity: 1, duration: 0.35, ease: 'power3.out' });
      const focusableEls = mobileMenu.querySelectorAll(focusables);
      first = focusableEls[0]; last = focusableEls[focusableEls.length - 1];
      first && first.focus();
      trapHandler = (e) => {
        if (e.key !== 'Tab' || !first || !last) return;
        if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
        else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
      };
      document.addEventListener('keydown', trapHandler);
      outsideHandler = (e) => {
        if (mobileMenu.contains(e.target) || menuBtn.contains(e.target)) return;
        closeMenu();
      };
      document.addEventListener('pointerdown', outsideHandler, { passive: true });
    }
    function closeMenu() {
      menuOpen = false;
      if (hasGSAP()) gsap.killTweensOf(mobileMenu);
      if (hasGSAP()) gsap.to(mobileMenu, { height: 0, opacity: 0, duration: 0.3, ease: 'power3.inOut', onComplete: () => mobileMenu.classList.add('hidden') });
      else mobileMenu.classList.add('hidden');
      mobileMenu.setAttribute('aria-hidden', 'true');
      menuBtn.setAttribute('aria-expanded', 'false');
      menuBtn.focus();
      document.removeEventListener('keydown', trapHandler);
      document.removeEventListener('pointerdown', outsideHandler);
      first = last = null;
    }
    menuBtn && menuBtn.addEventListener('click', () => { menuOpen ? closeMenu() : openMenu(); });
    document.addEventListener('keydown', e => (e.key === 'Escape' && menuOpen) && closeMenu());

    // GSAP guarded
    function initAnimations() {
      if (!hasGSAP()) return;
      gsap.registerPlugin(ScrollTrigger);
      document.querySelectorAll('[data-animate]').forEach((el, i) => {
        gsap.from(el, { y: 24, opacity: 0, duration: 0.8, delay: i * 0.06, ease: 'power3.out', scrollTrigger: { trigger: el, start: 'top 85%' } });
      });
      gsap.from('header', { y: -40, opacity: 0, duration: 0.7, ease: 'power3.out' });
      document.querySelectorAll('.team-card a').forEach(a => {
        a.addEventListener('mouseenter', () => gsap.to(a, { scale: 1.05, duration: 0.15, ease: 'power2.out' }));
        a.addEventListener('mouseleave', () => gsap.to(a, { scale: 1, duration: 0.15, ease: 'power2.out' }));
      });

      // --- Magnetic CTAs ---
      function magnetic(el, strength = 18) {
        if (!el) return;
        const rmm = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (rmm || !window.gsap) return;
        const bounds = () => el.getBoundingClientRect();
        el.addEventListener('mousemove', (e) => {
          const b = bounds();
          const x = (e.clientX - (b.left + b.width / 2)) / (b.width / 2);
          const y = (e.clientY - (b.top + b.height / 2)) / (b.height / 2);
          gsap.to(el, { x: x * strength, y: y * strength, duration: .18, ease: 'power2.out' });
        });
        el.addEventListener('mouseleave', () => gsap.to(el, { x: 0, y: 0, duration: .25, ease: 'power2.out' }));
      }
      magnetic(document.getElementById('btnPlay'));
      magnetic(document.getElementById('btnMore'), 14);

      // --- Card tilt ---
      document.querySelectorAll('.team-card').forEach(card => {
        const rmm = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (rmm || !window.gsap) return;
        let ctx = gsap.context(() => { }, card);
        function move(e) {
          const b = card.getBoundingClientRect();
          const rx = ((e.clientY - b.top) / b.height - .5) * -6;
          const ry = ((e.clientX - b.left) / b.width - .5) * 6;
          gsap.to(card, { rotateX: rx, rotateY: ry, y: -4, transformPerspective: 600, transformOrigin: 'center', duration: .18 });
        }
        function reset() { gsap.to(card, { rotateX: 0, rotateY: 0, y: 0, duration: .25, ease: 'power2.out' }); }
        card.addEventListener('mousemove', move);
        card.addEventListener('mouseleave', reset);
      });
    }

    // i18n
    const resources = {
      en: {
        translation: {
          brand: 'Davilkus Games',
          nav: { games: 'Games', about: 'About', contact: 'Contact Us' },
          games: {
            etb94: { title: 'Exit the Backrooms: Level 94', tagline: 'A mysterious, dreamlike level beyond the familiar Backrooms.' },
            scp087: { title: 'SCP-087: Into the Abyss', tagline: 'Descend into the endless darkness of SCP-087.' },
            etb2: { title: 'Exit the Backrooms: Level 2', tagline: 'You find yourself in a labyrinth of technical corridors filled with entities...' },
            etb37: { title: 'Exit the Backrooms: Level 37', tagline: 'You find yourself in an endless complex of liminal pools, but there is someone else here...' },
            sus: { title: 'Sus Horror', tagline: 'Can you escape from the spaceship?' },
          },
          buttons: { play: 'Play!', coming: 'Coming soon', more: 'Learn More' },
          about: {
            title: 'About Us',
            body1: 'Davilkus Games is a small indie game studio based in Russia. We create games for web, mobile, and PC, and publish them on Google Play, itch.io, Yandex Games, and other platforms.',
            body2: 'While horror is one of our key genres — with titles that aim to immerse players in tense, atmospheric worlds — we also explore projects far beyond horror.',
            body3: 'Our priority is creating compelling gameplay mechanics and rich atmospheres that keep players engaged. Every project is optimized for performance and accessibility, no matter the device.',
            body4: 'We value our community and work to keep it active, connected, and involved — through updates, events, and direct communication with our players.',
            team: 'Team & Partners',
            davilkus: 'Codes gameplay, networking, shaders.',
            haalo: 'Keeps the community informed and runs events.',
            burger: 'Writes original soundtracks for our games.',
            omega: 'UX design, 3D models, and Unity scripting.'
          },
          team: { mikhail: 'Mikhail<br>Maksimov', evgeny: 'Evgeny<br>Ryzhenkov', burger: 'Burger<br>Kerman', haalo: 'Nikolai<br>Seleznev' },
          roles: { founder: 'Co-founder,<br>Creative Director', cm: 'Community<br>Manager', partner: 'Composer,<br>Sound Engineer', codev: 'Co-founder,<br>Art Director' },
          contact: { title: 'Contact Us', emailTitle: 'Email', general: 'General', support: 'In‑game Support', direct: 'Direct', socialTitle: 'Community' },
          cookie: { title: 'Cookie time!', desc: 'We use cookies to ensure you get the best experience on our website. By using our website you agree to our use of cookies.', accept: 'Accept', decline: 'Decline' }
        }
      },
      ru: {
        translation: {
          brand: 'Davilkus Games',
          nav: { games: 'Игры', about: 'О нас', contact: 'Контакты' },
          games: {
            etb94: { title: 'Побег из Закулисья: Уровень 94', tagline: 'Таинственный, похожий на сон уровень за пределами знакомого Закулисья.' },
            scp087: { title: 'SCP-087: Лестница в Бездну', tagline: 'Спуститесь в бесконечную темноту SCP-087.' },
            etb2: { title: 'Побег из Закулисья: Уровень 2', tagline: 'Вы оказались в лабиринте технических коридоров, заполненных сущностями...' },
            etb37: { title: 'Побег из Закулисья: Уровень 37', tagline: 'Вы оказались в бесконечном комплексе лиминальных бассейнов, но здесь есть кто-то еще...' },
            sus: { title: 'Sus Horror', tagline: 'Сможете ли вы сбежать с космического корабля?' },
          },
          buttons: { play: 'Играть!', coming: 'Скоро', more: 'Подробнее' },
          about: {
            title: 'О нас',
            body1: 'Davilkus Games — небольшая инди-студия из России. Мы создаём игры для веба, мобильных устройств и ПК, публикуя их в Google Play, itch.io, Яндекс Игры и на других платформах.',
            body2: 'Хоррор — один из наших ключевых жанров: мы стараемся погрузить игроков в напряжённые, атмосферные миры, но при этом не ограничиваемся только хоррором.',
            body3: 'Наш приоритет — интересные игровые механики и глубокая атмосфера, удерживающая внимание. Каждая игра оптимизирована для высокой производительности и доступности на любых устройствах.',
            body4: 'Мы ценим своё сообщество и поддерживаем его активность — через обновления, события и прямое общение с игроками.',
            team: 'Команда и партнёры',
            davilkus: 'Пишет геймплей, сеть и шейдеры.',
            haalo: 'Держит сообщество в курсе, проводит ивенты.',
            burger: 'Пишет оригинальные саундтреки к нашим играм.',
            omega: 'UX-дизайн, 3D-модели и скрипты Unity.'
          },
          team: { mikhail: 'Михаил<br>Максимов', evgeny: 'Евгений<br>Рыженков', burger: 'Burger<br>Kerman', haalo: 'Николай<br>Селезнёв' },
          roles: { founder: 'Со-основатель,<br>креативный директор', cm: 'Комьюнити-<br>менеджер', partner: 'Композитор,<br>звукорежиссер', codev: 'Со-основатель,<br>арт директор' },
          contact: { title: 'Контакты', emailTitle: 'Email', general: 'Общий', support: 'Поддержка в игре', direct: 'Лично', socialTitle: 'Сообщество' },
          cookie: { title: 'Время печенек!', desc: 'Мы используем файлы cookie, чтобы обеспечить лучший опыт на сайте. Продолжая пользоваться сайтом, вы соглашаетесь на их использование.', accept: 'Принять', decline: 'Отклонить' }
        }
      }
    };

    function localize() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const val = i18next.t(key);
        if (!val) return;
        el.innerHTML = val;
      });
    }

    function setLangUI(lang) {
      const thumb = document.getElementById('langThumb');
      const thumbM = document.getElementById('langThumbMobile');
      const isRU = lang && lang.startsWith('ru');
      if (thumb) { thumb.classList.toggle('left-1', !isRU); thumb.classList.toggle('right-1', isRU); }
      if (thumbM) { thumbM.classList.toggle('left-1', !isRU); thumbM.classList.toggle('right-1', isRU); }
    }

    function setUrlLangParam(lang) {
      const url = new URL(window.location.href);
      url.searchParams.set('lang', lang);
      window.history.replaceState({}, '', url);
    }

    function bindLangToggle(id) {
      const btn = document.getElementById(id);
      if (!btn) return;
      btn.addEventListener('click', () => {
        const newLang = (i18next.language || 'en').startsWith('ru') ? 'en' : 'ru';
        i18next.changeLanguage(newLang, () => {
          try { localStorage.setItem('i18nextLng', newLang); } catch (_) { }
          document.documentElement.lang = newLang.startsWith('ru') ? 'ru' : 'en';
          localize();
          document.title = i18next.t('brand') + ' - Indie Game Studio';
          setLangUI(newLang);
          setUrlLangParam(newLang);
          applyContent();
        });
      });
    }

    function initCookieBar() {
      const key = 'dg_cookie_v1';
      const bar = document.getElementById('cookieBar');
      const accept = document.getElementById('cookieAccept');
      const decline = document.getElementById('cookieDecline');
      let stored = null;
      try { stored = localStorage.getItem(key); } catch (_) { }

      const showBar = () => {
        bar.classList.remove('hidden');
        if (hasGSAP()) gsap.fromTo(bar, { y: 90, opacity: 0 }, { y: 0, opacity: 1, duration: 0.45, ease: 'power3.out' });
      };
      const hideBar = () => {
        if (hasGSAP()) gsap.to('#cookieBar', { y: 90, opacity: 0, duration: 0.35, ease: 'power3.inOut', onComplete: () => bar.classList.add('hidden') });
        else bar.classList.add('hidden');
      };

      if (stored === 'accepted') {
        // APPROVE FEATURE
        return;
      }

      showBar();

      accept && accept.addEventListener('click', () => {
        try { localStorage.setItem(key, 'accepted'); } catch (_) { }
        // APPROVE FEATURE
        hideBar();
      });

      decline && decline.addEventListener('click', () => {
        try { localStorage.setItem(key, 'declined'); } catch (_) { }
        hideBar();
      });
    }

    function markActiveNav() {
      const path = location.pathname;
      const isHome = path === '/' || /\/index(\.html?)?$/i.test(path);
      const gamesLink = document.querySelector('nav a[href="/games/"]');
      const homeAnchors = document.querySelectorAll('nav a[href^="#"]');
      const mobileAnchors = document.querySelectorAll('#mobileMenu a[href^="#"]');
      if (isHome) {
        homeAnchors.forEach(a => a.setAttribute('aria-current', 'page'));
        mobileAnchors.forEach(a => a.setAttribute('aria-current', 'page'));
      } else if (path.startsWith('/games')) {
        gamesLink && gamesLink.setAttribute('aria-current', 'page');
      }
    }

    function scrollToTarget(idOrHash) {
      const id = (idOrHash || '').replace(/^#/, '');
      if (!id) return false;
      const el = document.getElementById(id);
      if (!el) return false;
      el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      return true;
    }

    function handleGoto() {
      const params = new URLSearchParams(window.location.search);
      const fromQuery = params.get('goto');
      const fromHash = window.location.hash ? window.location.hash.slice(1) : '';
      if (fromQuery && scrollToTarget(fromQuery)) return;
      if (fromHash && scrollToTarget(fromHash)) return;
    }

    function loadCounter() {
      if (document.getElementById('counterjs')) return;
      const s = document.createElement('script');
      s.id = 'counterjs'; s.defer = true; s.src = 'https://cdn.counter.dev/script.js';
      s.dataset.id = 'cc931e21-a972-4ffe-aaf1-52b0f23da9d3';
      s.dataset.utcoffset = String(-new Date().getTimezoneOffset() / 60);
      document.head.appendChild(s);
    }

    window.addEventListener('DOMContentLoaded', function () {
      const GAMES = [
        { titleKey: 'games.scp087.title', taglineKey: 'games.scp087.tagline', slug: 'scp087', status: 'active' },
        { titleKey: 'games.etb2.title', taglineKey: 'games.etb2.tagline', slug: 'etb-level2', status: 'active' },
        { titleKey: 'games.etb37.title', taglineKey: 'games.etb37.tagline', slug: 'etb-level37', status: 'active' },
        { titleKey: 'games.sus.title', taglineKey: 'games.sus.tagline', slug: 'sus-horror', status: 'active' },
      ];

      const titleEl = document.getElementById('heroTitle');
      const tagEl = document.getElementById('heroTag');
      const btnPlay = document.getElementById('btnPlay');
      const btnMore = document.getElementById('btnMore');
      const progressEl = document.getElementById('heroProgress');

      function setButtons(game) {
        const playText = btnPlay.querySelector('span');
        if (game.status === 'coming') {
          btnPlay.setAttribute('aria-disabled', 'true');
          btnPlay.setAttribute('tabindex', '-1');
          btnPlay.classList.add('bg-gray-600', 'cursor-not-allowed');
          btnPlay.classList.remove('bg-brand', 'hover:bg-brandDark');
          btnPlay.href = '#';
          btnPlay.title = 'Coming Soon';
          if (playText) playText.textContent = i18next.t('buttons.coming');
        } else {
          btnPlay.removeAttribute('aria-disabled');
          btnPlay.removeAttribute('tabindex');
          btnPlay.classList.remove('bg-gray-600', 'cursor-not-allowed');
          btnPlay.classList.add('bg-brand', 'hover:bg-brandDark');
          btnPlay.href = `/games/${game.slug}#play`;
          btnPlay.title = '';
          if (playText) playText.textContent = i18next.t('buttons.play');
        }
        btnMore.querySelector('span').textContent = i18next.t('buttons.more');
        btnMore.href = `/games/${game.slug}`;
      }

      window.applyContent = function () {
        const game = GAMES[heroSwiper.realIndex] || GAMES[0];
        titleEl.textContent = i18next.t(game.titleKey);
        titleEl.setAttribute('data-text', titleEl.textContent);
        // keep the extra slice element present
        if (!titleEl.querySelector('.glitch-slice')) {
          const slice = document.createElement('span');
          slice.className = 'glitch-slice';
          slice.setAttribute('aria-hidden', 'true');
          titleEl.appendChild(slice);
        }
        tagEl.textContent = i18next.t(game.taglineKey);
        setButtons(game);
      };

      function overlayFadeIn(initial = false) {
        if (rmm || !window.gsap) return;
        const dur = initial ? .5 : .25;
        const y = initial ? 10 : 0;
        gsap.fromTo(['#heroLabel', '#heroTag', '#btnMore', '#btnPlay'],
          { y, opacity: 0 }, { y: 0, opacity: 1, duration: dur, ease: 'power2.out', stagger: initial ? .06 : 0 });
      }

      function overlayFadeOut() {
        if (rmm || !window.gsap) return;
        return gsap.to(['#heroLabel', '#heroTag', '#btnMore', '#btnPlay'], { opacity: 0, duration: .2, ease: 'power1.in' });
      }

      // i18next init
      i18next
        .use(window.i18nextBrowserLanguageDetector)
        .init({ resources, fallbackLng: 'en', detection: { order: ['querystring', 'cookie', 'localStorage', 'navigator'], caches: ['localStorage', 'cookie'], lookupQuerystring: 'lang' } }, () => {
          const lang = i18next.language || 'en';
          document.documentElement.lang = lang.startsWith('ru') ? 'ru' : 'en';
          localize();
          document.body.style.visibility = 'visible';
          document.title = i18next.t('brand') + ' — Indie Game Studio';
          setLangUI(lang);

          bindLangToggle('langToggle');
          bindLangToggle('langToggleMobile');

          // Only start swiper *after* translations ready
          heroSwiper = new Swiper('.hero-swiper', {
            loop: true,
            effect: 'fade',
            fadeEffect: { crossFade: true },
            speed: rmm ? 0 : 600,
            allowTouchMove: true,
            autoplay: rmm ? false : { delay: 5000, disableOnInteraction: false },
            pagination: { el: '.swiper-pagination', clickable: true },
            observer: true,
            observeParents: true,
            navigation: {
              nextEl: '.hero-next',
              prevEl: '.hero-prev'
            }
          });

          heroSwiper.on('autoplayTimeLeft', (_, time, progress) => {
            if (progressEl) progressEl.style.width = `${(1 - Math.max(0, Math.min(1, progress))) * 100}%`;
          });
          heroSwiper.on('slideChange', () => { if (progressEl) progressEl.style.width = '0%'; });

          heroSwiper.on('slideChangeTransitionStart', overlayFadeOut);
          heroSwiper.on('slideChangeTransitionEnd', () => { applyContent(); overlayFadeIn(false); });

          applyContent();
          overlayFadeIn(true);

          if (hasGSAP() && !rmm) {
            // Scale only the active slide's image as page scrolls
            ScrollTrigger.create({
              trigger: '#hero',
              start: 'top top',
              end: 'bottom top',
              scrub: true,
              onUpdate: self => {
                const active = document.querySelector('#hero .swiper-slide-active img');
                if (active) gsap.to(active, { scale: 1 + self.progress * 0.06, overwrite: true, duration: 0 });
              }
            });
          }
        });

      if (hasGSAP()) initAnimations();
      initCookieBar();
      markActiveNav();
      loadCounter();

      // --- Spotlight mouse tracking (rAF throttled) ---
      (() => {
        const rmm = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (rmm) return;
        const hero = document.getElementById('hero');
        const light = document.getElementById('heroLight');
        if (!hero || !light) return;

        let needs = false, mx = '50%', my = '35%';
        function update() {
          needs = false;
          light.style.setProperty('--mx', mx);
          light.style.setProperty('--my', my);
        }
        hero.addEventListener('pointermove', (e) => {
          const r = hero.getBoundingClientRect();
          mx = ((e.clientX - r.left) / r.width * 100).toFixed(2) + '%';
          my = ((e.clientY - r.top) / r.height * 100).toFixed(2) + '%';
          if (!needs) { needs = true; requestAnimationFrame(update); }
        });
      })();

    });

    window.addEventListener('load', () => { setTimeout(handleGoto, 50); });
  </script>
</body>

</html>